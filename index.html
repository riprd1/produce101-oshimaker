<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æ—¥ãƒ—æ–°ä¸–ç•Œ æ¨ã—ãƒ¡ãƒ¼ã‚«ãƒ¼</title>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,sans-serif;
  background:#f6f6f6;
}

/* ===== ä¸Šã‚¿ã‚¤ãƒˆãƒ« ===== */
header{
  padding:12px;
  background:white;
  border-bottom:1px solid #ddd;
}
h1{margin:0;font-size:20px}
.by{margin:4px 0 0;font-size:13px;color:#666}

/* ===== ã‚­ãƒ£ãƒ—ãƒãƒ£ç¯„å›² ===== */
#captureArea{
  background:white;
  margin:12px;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}

/* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ç”»åƒ ===== */
.banner{
  height:100px;
  background-size:cover;
  background-position:center;
}

/* ===== ãƒ”ãƒ©ãƒŸãƒƒãƒ‰ ===== */
.pyramid{
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.row{
  display:flex;
  justify-content:center;
  gap:12px;
}
.picked{
  width:90px;
  text-align:center;
  position:relative;
}
.picked img{
  width:90px;
  height:90px;
  border-radius:50%;
  border:4px solid #ddd;
  object-fit:cover;
}
.rank{
  position:absolute;
  top:-6px;
  left:-6px;
  background:#1a73e8;
  color:white;
  border-radius:50%;
  padding:4px 8px;
  font-size:12px;
}
.name{
  font-size:11px;
  margin-top:4px;
}

/* ===== ãƒœã‚¿ãƒ³ ===== */
.actions{
  text-align:center;
  padding:10px;
}
button{
  padding:8px 12px;
  margin:4px;
  border-radius:10px;
  border:1px solid #ccc;
  background:white;
}

/* ===== ä¸€è¦§ ===== */
#membersWrap{
  background:white;
  margin:12px;
  padding:10px;
  border-radius:14px;
  max-height:40vh;
  overflow:auto;
}
#members{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.member{
  text-align:center;
  cursor:pointer;
}
.member img{
  width:70px;
  height:70px;
  border-radius:50%;
  border:3px solid #eee;
}
.member.selected{
  opacity:.3;
  pointer-events:none;
}
</style>
</head>

<body>

<header>
  <h1>æ—¥ãƒ—æ–°ä¸–ç•Œ æ¨ã—ãƒ¡ãƒ¼ã‚«ãƒ¼</h1>
  <p class="by">created by @12agassi</p>
</header>

<!-- ===== ã“ã“ãŒä¿å­˜ç”»åƒã«ãªã‚‹ ===== -->
<div id="captureArea">
  <div id="banner" class="banner"></div>

  <div class="pyramid" id="pyramid"></div>

  <div class="actions">
    <button onclick="undo()">1äººæˆ»ã™</button>
    <button onclick="resetAll()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</div>

<div id="membersWrap">
  <div id="members"></div>
</div>

<!-- html2canvas -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>

/* ğŸ”¥ ãƒ˜ãƒƒãƒ€ãƒ¼ç”»åƒ â† ã‚‚ã†å…¥ã‚Œã¦ã‚ã‚‹ */
const HEADER_IMAGE_URL = "https://i.imgur.com/nYBRUdd.png";

/* ===== ç·´ç¿’ç”Ÿ ===== */
const trainees=[
{name:"ã‚¢ãƒ€ãƒ ãƒ»ãƒŠã‚¬ã‚¤(ADAM)",img:"https://i.imgur.com/6QGzvRx.png"},
{name:"ä¸­ä¸¸ æ™å¯¿(AJU)",img:"https://i.imgur.com/KiZCKos.png"},
{name:"ã‚ªãƒ ãƒ»ã‚¹ã‚¢ãƒ³ã‚«ãƒ¯ãƒ¼ãƒ†ãƒ³(AOM)",img:"https://i.imgur.com/dDIFJSc.png"},
{name:"ã‚¢ãƒ¼ãƒãƒ£ãƒ¼ãƒ»ã‚¦ã‚¤(ARCHER)",img:"https://i.imgur.com/5iIerqN.png"},
{name:"ç¯ ãƒ¶è°· æ­©å¤¢(S.AYUMU)",img:"https://i.imgur.com/YJAdh8q.png"}
];

const rowSizes=[1,2,3,5];
let selected=[];

/* ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š */
document.getElementById("banner").style.backgroundImage=`url(${HEADER_IMAGE_URL})`;

/* ä¸€è¦§æç”» */
function drawMembers(){
const el=document.getElementById("members");
el.innerHTML="";
trainees.forEach((m,i)=>{
const d=document.createElement("div");
d.className="member";
if(selected.includes(i)) d.classList.add("selected");
d.innerHTML=`<img src="${m.img}"><div class="name">${m.name}</div>`;
d.onclick=()=>add(i);
el.appendChild(d);
});
}

/* è¿½åŠ  */
function add(i){
if(selected.length>=11){alert("11äººã¾ã§ï¼");return;}
selected.push(i);
drawMembers();
drawPyramid();
}

/* ãƒ”ãƒ©ãƒŸãƒƒãƒ‰æç”» */
function drawPyramid(){
const p=document.getElementById("pyramid");
p.innerHTML="";
let idx=0;
rowSizes.forEach(size=>{
const row=document.createElement("div");
row.className="row";
for(let k=0;k<size;k++){
if(idx>=selected.length) break;
const m=trainees[selected[idx]];
const div=document.createElement("div");
div.className="picked";
div.innerHTML=`
<div class="rank">${idx+1}</div>
<img src="${m.img}">
<div class="name">${m.name}</div>
`;
row.appendChild(div);
idx++;
}
p.appendChild(row);
});
}

/* æˆ»ã™ */
function undo(){
selected.pop();
drawMembers();
drawPyramid();
}

/* ãƒªã‚»ãƒƒãƒˆ */
function resetAll(){
selected=[];
drawMembers();
drawPyramid();
}

drawMembers();
drawPyramid();

</script>

</body>
</html>
